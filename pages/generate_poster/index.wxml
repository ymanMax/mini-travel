<view class="container">
  <view class="poster-preview">
    <canvas class="poster-canvas" canvas-id="posterCanvas" style="width: 600rpx; height: 800rpx;"></canvas>
  </view>

  <view class="form-container">
    <!-- 标题选择 -->
    <view class="form-item">
      <label class="form-label">海报标题：</label>
      <input class="input-field" placeholder="请输入海报标题" bindinput="onTitleInput" value="{{posterTitle}}" placeholder-style="font-size:28rpx"/>
    </view>

    <!-- 图片选择 -->
    <view class="form-item">
      <label class="form-label">选择图片：</label>
      <view class="image-selector">
        <block wx:for="{{availableImages}}" wx:key="index">
          <view class="image-item {{selectedImageIndex == index ? 'selected' : ''}}" bindtap="selectImage" data-index="{{index}}">
            <image src="{{item}}" class="preview-image" mode="aspectFill" />
          </view>
        </block>
      </view>
    </view>

    <!-- 文字描述 -->
    <view class="form-item">
      <label class="form-label">描述文字：</label>
      <textarea class="textarea-field" placeholder="请输入描述文字" maxlength="200" bindinput="onDescriptionInput" value="{{posterDescription}}" auto-height="true" placeholder-style="font-size:28rpx" />
      <view class="word-count">{{posterDescription.length}}/200</view>
    </view>
  </view>

  <!-- 操作按钮 -->
  <view class="action-buttons">
    <button class="generate-btn" bindtap="generatePoster">生成海报</button>
    <button class="save-btn" bindtap="savePoster" disabled="{{!posterGenerated}}">保存到相册</button>
    <button class="share-btn" bindtap="sharePoster" disabled="{{!posterGenerated}}">分享到朋友圈</button>
  </view>
</view>
