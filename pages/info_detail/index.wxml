<view class="issueDetail">
  <view wx:if="{{ detailType == '0' }}">
    <view class="position_r">
      <image class="width_100" src="{{ imgHost }}{{ rowData.image }}" mode="widthFix"/>
      <view class="title">{{ rowData.name }}</view>
      <view class="position_a bg_color_white" style="border-radius: 50%;top: 30rpx;right: 30rpx;background: #e64340;padding: 8rpx;" catchtap="toPhone">
        <van-icon size="22" color="#ffffff" name="phone" />
      </view>
    </view>
    <view style="padding: 24rpx 24rpx 0;">
      <view class="f_size_17 f_weight_bold">开放时间：</view>
      <view class="f_size_15" style="padding: 18rpx 0 50rpx;">{{ rowData.openHours }}</view>
      <view class="f_size_17 f_weight_bold">景区地址：</view>
      <view class="f_size_15" style="padding: 18rpx 0 50rpx;">{{ rowData.address }}</view>
      <view class="f_size_17 f_weight_bold">景区简介：</view>
      <view class="f_size_15" style="padding: 18rpx 0 50rpx;">{{ rowData.description }}</view>
      <view class="f_size_17 f_weight_bold">景区详情：</view>
    </view>
  </view>
  <view wx:if="{{ detailType == '1' }}">
    <view class="position_r">
      <image class="width_100" src="{{ imgHost }}{{ rowData.image }}" mode="widthFix"/>
      <view class="title">{{ rowData.name }}</view>
    </view>
    <view style="padding: 24rpx 24rpx 0;">
      <view class="f_size_17 f_weight_bold">简介：</view>
      <view class="f_size_15" style="padding: 40rpx 0;">{{ rowData.description }}</view>
      <view class="f_size_17 f_weight_bold" style="padding-top: 60rpx;">详情：</view>
    </view>
  </view>
  <view wx:if="{{ detailType == '2' }}">
    <view class="position_r">
      <image class="width_100" src="{{ imgHost }}{{ rowData.image }}" mode="widthFix"/>
      <view class="title">{{ rowData.name }}</view>
    </view>
    <view style="padding: 24rpx 24rpx 0;">
      <view class="f_size_17 f_weight_bold">简介：</view>
      <view class="f_size_15" style="padding: 40rpx 0;">{{ rowData.description }}</view>
      <view class="f_size_17 f_weight_bold" style="padding-top: 60rpx;">详情：</view>
    </view>
  </view>
  <view class="answer flex1 overflow_a">
    <view class="detail">
      <towxml nodes="{{ dataInfo }}" />
    </view>
  </view>

  <!-- 互动按钮区域 -->
  <view class="interaction-buttons" wx:if="{{ detailType == '3' }}">
    <view class="button" bindtap="handleLike" data-type="like">
      <van-icon name="like-o" color="#666" wx:if="{{ !isLiked }}" />
      <van-icon name="like" color="#e64340" wx:else />
      <text>{{ likeCount }}</text>
    </view>
    <view class="button" bindtap="handleCollect" data-type="collect">
      <van-icon name="star-o" color="#666" wx:if="{{ !isCollected }}" />
      <van-icon name="star" color="#e64340" wx:else />
      <text>收藏</text>
    </view>
    <view class="button" bindtap="showCommentInput">
      <van-icon name="chat-o" color="#666" />
      <text>评论</text>
    </view>
    <view class="button" bindtap="onShareAppMessage">
      <van-icon name="share-o" color="#666" />
      <text>分享</text>
    </view>
    <view class="button" bindtap="generatePoster">
      <van-icon name="photograph" color="#666" />
      <text>生成海报</text>
    </view>
  </view>

  <!-- 评论输入框 -->
  <view wx:if="{{ isCommentInputVisible }}" class="comment-input-container">
    <textarea class="input_value" type="text" bindinput="bindKeyInput" maxlength="150" value="{{ comment }}" placeholder="输入评论..." placeholder-style="font-size:28rpx">
    </textarea>
    <view>
      <button style="background: #bbb;" type="primary" bindtap="cancelComment">取消</button>
      <button type="primary" bindtap="submitComment">评论</button>
    </view>
  </view>
  <view wx:if="{{ detailType == '0' && priceAdult > 0 }}" class="position_f buy flex align-items-center" catch:tap="toPay">
    <text>线上购票</text>
    <text>：￥{{ priceAdult }}</text>
  </view>
  <view wx:if="{{ detailType == '0' && priceAdult == 0 }}" class="position_f buy">免费</view>
  <view wx:if="{{ detailType == '1' }}" class="position_a bg_color_white" style="border-radius: 50%;top: 30rpx;right: 30rpx;background: #e64340;padding: 8rpx;" catchtap="toPhone">
    <van-icon size="22" color="#ffffff" name="phone" />
  </view>
</view>
